(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{107:function(t,e,r){},108:function(t,e,r){},110:function(t,e,r){"use strict";r.r(e);var a=r(6),n=r.n(a),o=r(21),i=r.n(o),s=r(1),u=r(2),c=r(3),d=r(4),l=r(26),p=r(45),m=r(46),h=r(113),f=r(112),g=r(49);var v=function t(e,r){var a=function(e){return null!==e&&"object"===typeof e?t(e,r):r(e)};return Array.isArray(e)?e.map(a):"object"===typeof e?function(t,e){return Object.keys(t).reduce((function(r,a){return r[a]=e(t[a]),r}),{})}(e,a):e},y=r(48),b=(r(107),r(108),r(13));var F=function(t){Object(c.a)(r,t);var e=Object(d.a)(r);function r(t){var a,n=this;Object(s.a)(this,r),(a=e.call(this,t)).frameDtypes=void 0,a.api=void 0,a.columnApi=void 0,a.columnFormaters=void 0,a.manualUpdateRequested=!1,a.allowUnsafeJsCode=!1,a.fitColumnsOnGridLoad=!1,a.gridOptions=void 0,a.convertJavascriptCodeOnGridOptions=function(t){return v(t,a.convertStringToFunction)},a.render=function(){return void 0!==a.api&&a.state.should_update&&a.api.setRowData(a.state.rowData),Object(b.jsxs)("div",{className:"ag-theme-"+a.props.args.theme,style:a.defineContainerHeight(),children:[Object(b.jsx)(n.ManualUpdateButton,{manual_update:a.manualUpdateRequested,onClick:function(t){return a.returnGridValue(t)}}),Object(b.jsx)(p.AgGridReact,{onGridReady:function(t){return a.onGridReady(t)},gridOptions:a.gridOptions})]})},t.args.custom_css&&function(t){var e=function(t){var e=[];for(var r in t){var a=r+" {";for(var n in t[r])a+=n+": "+t[r][n]+";";a+="}",e.push(a)}return e.join("\n")}(t),r=document.createElement("style");r.type="text/css",r.innerText=e,console.log("Adding cutom css: ",e),document.head.appendChild(r)}(t.args.custom_css),t.args.enable_enterprise_modules&&"license_key"in t.args&&m.a.setLicenseKey(t.args.license_key),a.frameDtypes=a.props.args.frame_dtypes,a.manualUpdateRequested=1===a.props.args.update_mode,a.allowUnsafeJsCode=a.props.args.allow_unsafe_jscode,a.fitColumnsOnGridLoad=a.props.args.fit_columns_on_grid_load,a.columnFormaters={columnTypes:{dateColumnFilter:{filter:"agDateColumnFilter",filterParams:{comparator:function(t,e){return Object(h.a)(Object(f.a)(e),t)}}},numberColumnFilter:{filter:"agNumberColumnFilter"},shortDateTimeFormat:{valueFormatter:function(t){return a.dateFormatter(t.value,"dd/MM/yyyy HH:mm")}},customDateTimeFormat:{valueFormatter:function(t){return a.dateFormatter(t.value,t.column.colDef.custom_format_string)}},customNumericFormat:{valueFormatter:function(t){var e;return a.numberFormatter(t.value,null!==(e=t.column.colDef.precision)&&void 0!==e?e:2)}},customCurrencyFormat:{valueFormatter:function(t){return a.currencyFormatter(t.value,t.column.colDef.custom_currency_symbol)}},timedeltaFormat:{valueFormatter:function(t){return Object(y.duration)(t.value).humanize(!0)}}}};var o=Object.assign({},a.columnFormaters,a.props.args.gridOptions);return a.allowUnsafeJsCode&&(console.warn("flag allow_unsafe_jscode is on."),o=a.convertJavascriptCodeOnGridOptions(o)),a.gridOptions=o,a.state={rowData:JSON.parse(t.args.row_data),gridHeight:a.props.args.height,should_update:!1},a}return Object(u.a)(r,[{key:"convertStringToFunction",value:function(t){var e="--x_x--0_0--",r=new RegExp("".concat(e,"\\s*((function|class)\\s*.*)\\s*").concat(e)).exec(t);if(r){var a=r[1];return new Function("return "+a)()}return t}},{key:"setUpdateMode",value:function(){var t=this;if(!this.manualUpdateRequested){var e=this.props.args.update_mode;2===(2&e)&&this.api.addEventListener("cellValueChanged",(function(e){return t.returnGridValue(e)})),4===(4&e)&&this.api.addEventListener("selectionChanged",(function(e){return t.returnGridValue(e)})),8===(8&e)&&this.api.addEventListener("filterChanged",(function(e){return t.returnGridValue(e)})),16===(16&e)&&this.api.addEventListener("sortChanged",(function(e){return t.returnGridValue(e)}))}}},{key:"onGridReady",value:function(t){var e=this;for(var r in this.api=t.api,this.columnApi=t.columnApi,this.setUpdateMode(),this.api.addEventListener("firstDataRendered",(function(t){return e.fitColumns()})),this.api.setRowData(this.state.rowData),this.gridOptions.preSelectedRows)this.api.selectIndex(this.gridOptions.preSelectedRows[r],!0,!0);this.props.args.columnState&&this.columnApi.applyColumnState(this.props.args.columnState),this.props.args.filterModel&&this.api.setFilterModel(this.props.args.filterModel)}},{key:"fitColumns",value:function(){this.fitColumnsOnGridLoad?this.api.sizeColumnsToFit():this.columnApi.autoSizeAllColumns()}},{key:"dateFormatter",value:function(t,e){try{var r=Object(f.a)(t);return Object(g.a)(r,e)}catch(a){return t}}},{key:"currencyFormatter",value:function(t,e){var r=Number.parseFloat(t);return Number.isNaN(r)?t:e+r.toFixed(2)}},{key:"numberFormatter",value:function(t,e){var r=Number.parseFloat(t);return Number.isNaN(r)?t:r.toFixed(e)}},{key:"returnGridValue",value:function(t){var e=[];switch(this.props.args.data_return_mode){case 0:this.api.forEachLeafNode((function(t){return e.push(t.data)}));break;case 1:this.api.forEachNodeAfterFilter((function(t){t.group||e.push(t.data)}));break;case 2:this.api.forEachNodeAfterFilterAndSort((function(t){t.group||e.push(t.data)}))}var r={originalDtypes:this.frameDtypes,rowData:e,selectedRows:this.api.getSelectedRows(),columnState:this.columnApi.getColumnState(),filterModel:this.api.getFilterModel()};l.a.setComponentValue(r)}},{key:"ManualUpdateButton",value:function(t){return t.manual_update?Object(b.jsx)("button",{onClick:t.onClick,children:"Update"}):Object(b.jsx)("span",{})}},{key:"defineContainerHeight",value:function(){return"domLayout"in this.gridOptions&&"autoHeight"===this.gridOptions.domLayout?{width:this.props.width}:{width:this.props.width,height:this.state.gridHeight}}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.args.reload_data?{rowData:JSON.parse(t.args.row_data),gridHeight:t.args.height,should_update:!0}:{gridHeight:t.args.height}}}]),r}(l.b),O=Object(l.c)(F);i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.df961de4.chunk.js.map